<!DOCTYPE html>
<html lang="ko">
<head>

<meta charset="UTF-8" />
<title>Openpilot Control</title>

<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0" />
<meta name="format-detection" content="telephone=no" />

<style>

.slider {
  -webkit-appearance: none;
  width: 85%;
  height: 45px;
  background: #d3d3d3;
  outline: none;
  opacity: 0.7;
  -webkit-transition: .2s;
  transition: opacity .2s;
}

.slider:hover {
  opacity: 1;
}

.slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 30px;
  height: 30px;
  background: #04AA6D;
  cursor: pointer;
}

.slider::-moz-range-thumb {
  width: 30px;
  height: 30px;
  background: #04AA6D;
  cursor: pointer;
}

body {
  background-color: black;
  text-align: center;
  color: white;
  font-family: Arial, Helvetica, sans-serif;
}

input[type=button], input[type=submit], input[type=reset] {
  background-color: #4CAF50;
  width: 45%;
  border: none;
  color: white;
  padding: 15px 30px;
  text-align: center;
  text-decoration: none;
  font-size: 20px;
  margin: 4px 2px;
  cursor: pointer;
}

input[type=text] {
  width: 25%;
  height: 45px;
  font-size: 20px;
  padding: 12px 20px;
  margin: 8px 0;
  box-sizing: border-box;
}
</style>

<script type="text/javascript">

	function load()
	{

		var dynamicFollow = {{dynamicFollowParam}};
		if( dynamicFollow == 0 ) {
			document.frm1.chk_dynamicFollow[0].checked = true;
		}else if( dynamicFollow == 1 ) {
			document.frm1.chk_dynamicFollow[1].checked = true;
		}else if( dynamicFollow == 2 ) {
			document.frm1.chk_dynamicFollow[2].checked = true;
		}else if( dynamicFollow == 3 ) {
			document.frm1.chk_dynamicFollow[3].checked = true;
		}else if( dynamicFollow == 4 ) {
			document.frm1.chk_dynamicFollow[4].checked = true;
		}


	}

    function apply_ok() {
		document.frm1.action = "/apply";
        document.frm1.method = "post";
        document.frm1.submit();
    }


    function delHangle(evt){ //한글을 지우는 부분, keyup부분에 넣어준다.
		var objTarget = evt.srcElement || evt.target;
		var _value = event.srcElement.value;
		if(/[ㄱ-ㅎㅏ-ㅡ가-핳]/g.test(_value)) {
			// objTarget.value = objTarget.value.replace(/[ㄱ-ㅎㅏ-ㅡ가-핳]/g,'');
			objTarget.value = null;
			//return false;
		}
	}

	function isNumberKey(evt) { // 숫자를 제외한 값을 입력하지 못하게 한다.
		var charCode = (evt.which) ? evt.which : event.keyCode;
		// Textbox value
		var _value = event.srcElement.value;
		if (event.keyCode < 48 || event.keyCode > 57) {
			if (event.keyCode != 46) { //숫자와 . 만 입력가능하도록함
				return false;
			}
		}

		// 소수점(.)이 두번 이상 나오지 못하게
		var _pattern0 = /^\d*[.]\d*$/; // 현재 value값에 소수점(.) 이 있으면 . 입력불가
		if (_pattern0.test(_value)) {
			if (charCode == 46) {
				return false;
			}
		}

		// 두자리 이하의 숫자만 입력가능
		var _pattern1 = /^\d{2}$/; // 현재 value값이 2자리 숫자이면 . 만 입력가능
		// {숫자}의 값을 변경하면 자리수를 조정할 수 있다.
		if (_pattern1.test(_value)) {
			if (charCode != 46) {
				alert("두자리 이하의 숫자만 입력가능합니다");
				return false;
			}
		}

		// 소수점 둘째자리까지만 입력가능
		var _pattern2 = /^\d*[.]\d{2}$/; // 현재 value값이 소수점 둘째짜리 숫자이면 더이
		// {숫자}의 값을 변경하면 자리수를 조정할 수 있다.
		if (_pattern2.test(_value)) {
			alert("소수점 둘째자리까지만 입력가능합니다.");
			return false;
		}
		return true;
	}


</script>



</head>
<body onload="load()">

	<form name="frm1" id="frm1" action="" method="post">
		<h2>Openpilot Control</h2>

		<div align="center">
			<input type="button" value="APPLY" onclick="apply_ok()">
			<input type="button" value="RESET" onclick="load()">
		</div>

		<h3>
		<p>
			<font color="GREEN">Dynamic follow</font>
			장거리 MPC로 전송되는 거리를 초 단위로 동적으로 변경하여 이동 속도를 예측하는 방식으로 작동합니다.
			- traffic : 교통 체증을 조금 더 가깝게 유지하여 컷인을 줄이기 위한 것입니다.
			- stock : 이것은 동적 추적 모드가 없는 기본 openpilot의 기본 1.8초 프로필입니다.
			- roadtrip : 이것은 편안한 운전을 위한 기본 동적 팔로우 프로필입니다.
			- auto : 자동 다이내믹 팔로우 모델은 운전 조건에 따라 다른 프로필을 수동으로 순환하면서 약 1시간 동안 훈련되었으며, 이 프로필은 이러한 결정을 완전히 자체적으로 복제하려고 합니다.
			<br><input type="radio" name="chk_dynamicFollow" value=0>traffic
			<br><input type="radio" name="chk_dynamicFollow" value=1>stock
			<br><input type="radio" name="chk_dynamicFollow" value=2>roadtrip
			<br><input type="radio" name="chk_dynamicFollow" value=3>auto
		</p>
		</h3>


	</form>
</body>
</html>
